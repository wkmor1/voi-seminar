---
title: "The Value of Information"
subtitle: "for Conservation & Natural Resource Management"
author: "Will Morris"
date: "19 September 2017"
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: ["default", "voi-seminar.css"]
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---
```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
library(dplyr)
```
# Value of information (VOI)

--
- .font120[Both a concept and a formal decision theoretic toolset]


--
- .font120[In context of decision making, information has some finite value]


--
- .font120[Can tell you whether to seek new information, how much, and what kind]


--
- .font120[Implies some uncertainty is critical to decision making and some is not]


--
- .font120[Most useful if can compare the cost of new information to the value in same currency]

???



---
# My VOI work

--
- .font130[Value of information for mangement of box-ironbark woodlands]


--
- .font130[Value of information for spatial conservation planning]


--
- .font130[Value of information for conservation auctions]


--
- .font130[Value of information and risk tolerance]

???



---
# My VOI work

- .grey[.font130[Value of information for mangement of box-ironbark woodlands]]


- .red[.font130[Value of information for spatial conservation planning]]


- .grey[.font130[Value of information for conservation auctions]]


- .red[.font130[Value of information and risk tolerance]]

???



---
class: inverse, center, middle

# Part 1: Value of information
## A little background & theory

???



---
# Formal VOI

--

## Expected Value of Information (EVI)

--
Difference between:
- Expected value of making decision with __original__ information (EVWOI)

and the

- Expected value of making decision with __new__ information (EVWNI)


--
</br>
</br>
$\Large\mathrm{EVI} = \mathrm{EVWNI} - \mathrm{EVWOI}$

???



---
# Formal VOI

## Expected Value With Original Information (EVWOI)

--


$\Large\mathrm{EVWOI} = \max_a\mathrm{E}_\theta[v(a,\theta)]$


--

$\Large a$ = actions, alternatives etc

--

$\Large\theta$ = uncertainty, model, system state

???


---
# Formal VOI
## Many Forms of VOI

--

$\Large\mathrm{EV?I} = \mathrm{EVW?I} - \mathrm{EVWOI}$

--

## Expected Value of Perfect Information (EVPI)

--

$\Large\mathrm{EVPI} = \mathrm{EVWPI} - \mathrm{EVWOI}$

--

$\Large\mathrm{EVPI} = \mathrm{E}_\theta\max_a[v(a,\theta)] - \max_a\mathrm{E}_\theta[v(a,\theta)]$

???



---
# An example 

--
- .font130[Manager responsible for endangered species]

--
- .font130[Currently 10 breeding pairs, but declining]

--
- .font130[Must choose whether or not to restore habitat]

--
- .font130[50% chance that restoration will be a success]

--
- .font130[Expected number of breeding pairs:]

</br>
.font110[

| Action     | Failure | Success | _EV_ |
|:-----------|:-------:|:-------:|:----:|
| Do nothing |    8    |    8    | _8_  |
| Restore    |    5    |    15   | _10_ |
]

--
</br>
</br>
$\Large\mathrm{EVWOI} = \max_a\mathrm{E}_\theta[v(a,\theta)]$

???



---
count: false
# An example

.font130[
- Manager responsible for endangered species
- Currently 10 breeding pairs, but declining
- Must choose whether or not to restore habitat
- 50% chance that restoration will be a success
- Expected number of breeding pairs:
]

</br>
.font110[

| Action     | Failure | Success | _EV_ |
|:-----------|:-------:|:-------:|:----:|
| Do nothing |    8    |    8    | .red[_8_]  |
| Restore    |    5    |    15   | .red[_10_] |
]
</br>
</br>
$\Large\mathrm{EVWOI} =\max_a$ .font150[(.red[8], .red[10])]

???



---
count: false
# An example

.font130[
- Manager responsible for endangered species
- Currently 10 breeding pairs, but declining
- Must choose whether or not to restore habitat
- 50% chance that restoration will be a success
- Expected number of breeding pairs:
]

</br>
.font110[

| Action     | Failure | Success | _EV_ |
|:-----------|:-------:|:-------:|:----:|
| Do nothing |    8    |    8    | _8_  |
| Restore    |    5    |    15   | .red[_10_] |
]
</br>
</br>
$\Large\mathrm{EVWOI} =$ .font150.red[10]

???



---
count: false
# An example

.font130[
- Manager responsible for endangered species
- Currently 10 breeding pairs, but declining
- Must choose whether or not to restore habitat
- 50% chance that restoration will be a success
- Expected number of breeding pairs:
]

</br>
.font110[

| Action     | Failure | Success | _EV_ |
|:-----------|:-------:|:-------:|:----:|
| Do nothing |    8    |    8    | _8_  |
| Restore    |    5    |    15   | .red[_10_] |
]
</br>
</br>
$\Large\mathrm{EVPI} = \mathrm{EVWPI} -$ .font150.red[10]

???



---
count: false
# An example

.font130[
- Manager responsible for endangered species
- Currently 10 breeding pairs, but declining
- Must choose whether or not to restore habitat
- 50% chance that restoration will be a success
- Expected number of breeding pairs:
]

</br>
.font110[

| Action     | Failure | Success | _EV_ |
|:-----------|:-------:|:-------:|:----:|
| Do nothing |    8    |    8    | _8_  |
| Restore    |    5    |    15   | .red[_10_] |
]
</br>
</br>
$\Large\mathrm{EVPI} = \mathrm{E}_\theta\max_a[v(a,\theta)] -$ .font150.red[10]

???



---
count: false
# An example

.font130[
- Manager responsible for endangered species
- Currently 10 breeding pairs, but declining
- Must choose whether or not to restore habitat
- 50% chance that restoration will be a success
- Expected number of breeding pairs:
]

</br>
.font110[

| Action     | Failure | Success | _EV_ |
|:-----------|:-------:|:-------:|:----:|
| Do nothing |    .blue[8]    |     8   | _8_  |
| Restore    |    5    |    .blue[15]   | .red[_10_] |
]
</br>
</br>
$\Large\mathrm{EVPI} = \mathrm{E}_\theta$.font150[(.blue[8], .blue[15]) - .red[10]]

???



---
count: false
# An example

.font130[
- Manager responsible for endangered species
- Currently 10 breeding pairs, but declining
- Must choose whether or not to restore habitat
- 50% chance that restoration will be a success
- Expected number of breeding pairs:
]

</br>
.font110[

| Action     | Failure | Success | _EV_ |
|:-----------|:-------:|:-------:|:----:|
| Do nothing |    .blue[8]    |     8   | _8_  |
| Restore    |    5    |    .blue[15]   | .red[_10_] |
]
</br>
</br>
$\Large\mathrm{EVPI} =$ .font150[.blue[11.5] - .red[10]]

???



---
count: false
# An example

.font130[
- Manager responsible for endangered species
- Currently 10 breeding pairs, but declining
- Must choose whether or not to restore habitat
- 50% chance that restoration will be a success
- Expected number of breeding pairs:
]

</br>
.font110[

| Action     | Failure | Success | _EV_ |
|:-----------|:-------:|:-------:|:----:|
| Do nothing |    .blue[8]    |     8   | _8_  |
| Restore    |    5    |    .blue[15]   | .red[_10_] |
]
</br>
</br>
$\Large\mathrm{EVPI} =$ .font150.purple[1.5]

???



---
# Implications


--
- Risk-neutral decision-maker with original information expects to maintain current population.


--
- In reality, either lose 5 or gain 5, with equal probability. But better than guaranteed loss of 2.


--
- Acting with certainty expect to gain 1.5 as can avoid the worst case of losing 5.


--
- Is therefore optimal to spend up to value of 1.5 breeding pairs worth of resources to find out! 

???



---
# Formal VOI

--

## Expected Value of Sample Information

--
</br>
</br>
$\Large\mathrm{EVSI} = \mathrm{EVWSI} - \mathrm{EVWOI}$

--

$\Large\mathrm{EVSI} = \mathrm{E}_s[\max_a\mathrm{E}_{\theta|s}[v(a,s)]] - \max_a\mathrm{E}_\theta[v(a,\theta)]$


???

---
class: centre, middle

```{r dimretplot, fig.width = 4, fig.height = 3, dev = "svg", echo = FALSE, out.width = "1200px", dev.args = list(family = "Droid Serif")}
par(mar = c(3, 3, 1, 1))
curve(x / (x + 1), 0, 10, xlab = "", xaxt = 'n', ylab = "", yaxt = "n", ylim = 0:1, lwd = 2)
abline(h = 1, lty = 2)
text(0.5, 1, "EVPI", pos = 1)
mtext("Sample-size", 1, 1)
mtext("EVSI", 2, 1)
```
???



---
</br>
- .font130[VOI both concept and formal toolset]


--
- .font130[Difference between value with original and new information]


--
- .font130[Many forms of EVI. But EVWOI is common to all]


--
- .font130[EVPI is the upper bound]


--
- .font130[The value of information gives diminishing returns]

???



---
class: inverse, center, middle

# Part 2: Value of Information in conservation and natural resource management
## How has it been used to date?

???



---
# Two flavours of VOI in conservation science

--

.pull-left[
## 1. Informal VOI analyses

- Don't use classic VOI (EVPI, etc.,)


- Post-hoc reevaluation of decision problems with different data


- Typically applied to spatial conservation planning (e.g., reserve network design)


- Somewhat hidden in literature as don't use a standard lexicon


]
--

.pull-right[
## 2. Formal VOI analyses 

- Use one or more forms of EVI in the strict sense


- Almost always calculate the EVPI


- Typically applied to managing a species (e.g., fishery, invasive plant)


- Easier to find in literature


]

---
# Informal VOI in conservation planning

--
- .font120[Comparison of data quantity (full vs. subset)]


--
- .font120[Comparison of data quality (fine resolution vs. coarse)]


--
- .font120[Span a wide range systems (coutry-wide reserve networks, forest stocks, fisheries, etc.)]


--
- .font120[Narrow objectives (maximally represent or retain distribution of biodiversity feature or achieve target level of protection)]


--
- .font120[Typically do decision making with planning software such Marxan or Zonation]


--
- .font120[Actions are choose among a set of candidate areas for protection or other conservation action]


???



---

![hermoso](voi-seminar_files/figure-html/hermoso.png)

.pull-left[![hermoso_plot](voi-seminar_files/figure-html/hermoso-plot.png)]

.pull-right[

Conservation plans for freshwater fish in northern Australia.

Plans with 15, 55, and 85% of full distribution dataset.

More than double the effectiveness of plan when using 85% compared to 15% (measured as number of species exceeding target level of protection)

]


???



---
# Formal VOI for species management

--
- .font120[Early examples often focused on commercial fisheries]


--
- .font120[Recent examples focus on wider management contexts (threatened species recovery, wildlife harvest, invasives control)]


--
- .font120[Bias towards the management of animals (some examples on the management of invasive plants)]


--
- .font120[Decision problem well formulated: objectives, alternatives, system model, etc.]


--
- .font120[Typically use a population model or sometimes expert opinion to predict outcomes]


--
- .font120[Use a variety of the forms of EVI but always at least report EVPI]


???



---

![runge](voi-seminar_files/figure-html/runge.png)

.pull-left[![runge-plot](voi-seminar_files/figure-html/runge-plot.png)]

.pull-right[

Trying to maximise recruitment in population of whooping cranes

8 competing hypotheses and 7 alternative management strategies

EVPI a 20% relative improvement in performance of management

Different hypotheses have different associated partial expected value of perfect information

]


???


---
# Two flavours of VOI in conservation science

--

.pull-left[
## 1. Informal VOI analyses

- Authors of these studies tend to be positive about the value of information
 "_represent a very good conservation investment_" (Balmford 1999)

]


.pull-right[
## 2. Formal VOI Analyses 

- Authors of these studies tend use more qualifiers to describe information value like, 
 "_modest_" (e.g., Moore 2011) or "_low_" (e.g, Johnson 2014) 

]

--

.center[
## Reasons?
]

--
- Different methods?


--
- Culture of subfields?


--
- Study selection bias?


???



---
class: centre, middle

```{r dimretplotB1, fig.width = 4, fig.height = 3, dev = "svg", echo = FALSE, out.width = "1200px", dev.args = list(family = "Droid Serif")}
par(mar = c(3, 3, 1, 1))
curve(x / (x + 1), 0, 10, xlab = "", xaxt = 'n', ylab = "", yaxt = "n", ylim = 0:1, lwd = 2)
abline(h = 1, lty = 2)
text(0.5, 1, "EVPI", pos = 1)
mtext("Sample-size", 1, 1)
mtext("EVSI", 2, 1)
```
???




---
count: false
class: centre, middle

```{r dimretplotB2, fig.width = 4, fig.height = 3, dev = "svg", echo = FALSE, out.width = "1200px", dev.args = list(family = "Droid Serif")}
par(mar = c(3, 3, 1, 1))
curve(x / (x + 1), 0, 10, xlab = "", xaxt = 'n', ylab = "", yaxt = "n", ylim = 0:1, lwd = 2)
abline(h = 1, lty = 2)
text(0.5, 1, "EVPI", pos = 1)
mtext("Time", 1, 1)
mtext("EVSI", 2, 1)
```
???



---
count: false
class: centre, middle

```{r dimretplotB3, fig.width = 4, fig.height = 3, dev = "svg", echo = FALSE, out.width = "1200px", dev.args = list(family = "Droid Serif")}
par(mar = c(3, 3, 1, 1))
curve(x / (x + 1), 0, 10, xlab = "", xaxt = 'n', ylab = "", yaxt = "n", ylim = 0:1, lwd = 2)
abline(h = 1, lty = 2)
abline(v = 5, lwd = 3, col = "salmon")
text(0.5, 1, "EVPI", pos = 1)
mtext("Time", 1, 1)
mtext("EVSI", 2, 1)
```
???



---
count: false
class: centre, middle

```{r dimretplotB4, fig.width = 4, fig.height = 3, dev = "svg", echo = FALSE, out.width = "1200px", dev.args = list(family = "Droid Serif"), warning = FALSE}
par(mar = c(3, 3, 1, 1))
curve(x / (x + 1), 0, 10, xlab = "", xaxt = 'n', ylab = "", yaxt = "n", ylim = 0:1, lwd = 2)
abline(h = 1, lty = 2)
abline(v = 5, lwd = 3, col = "salmon")
text(0.5, 1, "EVPI", pos = 1)
text(5, .5, "Formal \u2192", pos = 4)
text(5, .5, "\u2190 Informal", pos = 2)
mtext("Time", 1, 1)
mtext("EVSI", 2, 1)
```
???



---
count: false
class: centre, middle

```{r dimretplotB5, fig.width = 4, fig.height = 3, dev = "svg", echo = FALSE, out.width = "1200px", dev.args = list(family = "Droid Serif"), warning = FALSE}
par(mar = c(3, 3, 1, 1))
curve(x / (x + 1), 0, 10, xlab = "", xaxt = 'n', ylab = "", yaxt = "n", ylim = 0:1, lwd = 2)
abline(h = 1, lty = 2)
abline(v = 5, lwd = 3, col = "salmon")
text(0.5, 1, "EVPI", pos = 1)
text(5, .5, "Formal \u2192", pos = 4)
text(5, .5, "\u2190 Informal", pos = 2)
abline(h = .8333, lty = 3)
segments(c(-.2, 10.2), c(0, .83333), c(-.2, 10.2), c(.8333, 1), lwd = 3, col = "#8c88b9")
mtext("Time", 1, 1)
mtext("EVSI", 2, 1)
```
???



---
# Problems with informal VOI


--
- .font120[Straw man]


--
- .font120[Tells us what we already know]


--
- .font120[Doesn't tell us what we should do now]

???



---
</br>
- .font130[Two flavors of VOI: Informal and formal]


--
- .font130[Informal used in conservation planning]


--
- .font130[Formal used in species population management]


--
- .font130[Formal reports low value and informal reports high]


--
- .font130[There are problems with the informal approach and conservation planning may benefit from using formal VOI]

.center[![problem](https://media.giphy.com/media/8wGbjEEGArmTK/giphy.gif)]



???



---
class: inverse, center, middle

# Part 3: A Case-study
## Value of Information and spatial conservation planning

???



---
# VOI for spatial conservation planning

 
--
- .font130[Not a new idea!]


--
- .font130[Yet to see one done formally?]


--
- .font130[So how would it be done?]


--
- .font130[Need conservation plan with a clearly defined performance measure]


--
- .font130[Need to characterise the uncertainty in information used to predict the outcome]

???



---
class: bottom
background-image: url(voi-seminar_files/figure-html/simpleZon1.svg)

.font150[Threatened species unevenly distributed across landscape divided into 25 units]</br></br></br></br>

???



---
count: false
class: bottom
background-image: url(voi-seminar_files/figure-html/simpleZon2.svg)

.font150[Second species with different distribution in the same landscape]</br></br></br></br>


???


---
count: false
class: bottom
background-image: url(voi-seminar_files/figure-html/simpleZon3.svg)

.font150[Conservation prioritization: rank each unit according to biodiversity value]</br></br></br></br>

???



---
count: false
class: bottom
background-image: url(voi-seminar_files/figure-html/simpleZon4.svg)

.font150[Assuming budget only large enough to conserve one unit. Pick one that maximises the average remaining (species have equal weights)]</br></br></br></br>

???



---
count: false
class: right, middle
background-image: url(voi-seminar_files/figure-html/simpleZon5.svg)

</br></br>Uncertainty in form </br>of second possible </br>scenario for same</br>landscape

???



---
count: false
class: right, middle
background-image: url(voi-seminar_files/figure-html/simpleZon6.svg)

</br></br>Different distribution</br>= different ranking

</br></br>What is the expected</br>value of knowing</br>which scenario is</br>correct?

???



---
count: false
class: right, middle
background-image: url(voi-seminar_files/figure-html/simpleZon6.svg)

</br></br>
$\Large\mathrm{EVPI} = \mathrm{EVWPI} - \mathrm{EVWOI}$

???



---
count: false
class: right, middle
background-image: url(voi-seminar_files/figure-html/simpleZon6.svg)

</br></br>
$\Large\mathrm{EVPI} = \mathrm{EVWPI} - \max_a\mathrm{E}_\theta[v(a,\theta)]$

???



---
count: false
class: right, middle
background-image: url(voi-seminar_files/figure-html/simpleZon7.svg)

</br></br>
$\Large\mathrm{EVPI} = \mathrm{EVWPI} - \max_a$.font130[(.red[6%], )]

???



---
count: false
class: right, middle
background-image: url(voi-seminar_files/figure-html/simpleZon8.svg)

</br></br>
$\Large\mathrm{EVPI} = \mathrm{EVWPI} - \max_a$.font130[(.red[6%], .red[5%])]

???



---
count: false
class: right, middle
background-image: url(voi-seminar_files/figure-html/simpleZon7.svg)

</br></br>
$\Large\mathrm{EVPI} = \mathrm{EVWPI} -$ .font130[.red[6%]]

???



---
count: false
class: right, middle
background-image: url(voi-seminar_files/figure-html/simpleZon9.svg)

</br></br>
$\Large\mathrm{EVPI} = \mathrm{E}_\theta\max_a[v(a,\theta)] -$ .font130[.red[6%]]

???



---
count: false
class: right, middle
background-image: url(voi-seminar_files/figure-html/simpleZon9.svg)

</br></br>
$\Large\mathrm{EVPI} = \mathrm{E}_\theta$.font130[(.blue[7%], .blue[7%]) - .red[6%]]

???



---
count: false
class: right, middle
background-image: url(voi-seminar_files/figure-html/simpleZon9.svg)

</br></br>
$\Large\mathrm{EVPI}$.font130[ = .blue[7%] - .red[6%]]

???


---
count: false
class: right, middle
background-image: url(voi-seminar_files/figure-html/simpleZon9.svg)

</br></br>
$\Large\mathrm{EVPI}$.font130[ = .purple[1%]]

???



---
class: inverse
background-size: contain
background-image: linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url(https://upload.wikimedia.org/wikipedia/commons/7/77/43_Broke_Hunter_Valley.jpg)

# Case study: A spatial conservation plan for the Hunter Valley, NSW


--
.white.font140[
- __Biodiverse region__


- __Many threatened species__


- __Multiple threats__


- __Active economic development in the region: housing, mining, transport infrastructure__


- __Ongoing interest in strategic planning and biodiversity conservation in the region__
]

???



---
count: false
class: inverse
background-size: cover
background-image: linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url(https://c2.staticflickr.com/6/5547/14623801992_9fac537b25_b.jpg)
# Case study: A spatial conservation plan for the Hunter Valley, NSW


--
.white.font140[
- __Chose 6 species: 2 plants; 2 mammals; 2 birds__


- __Built SDMs with publically available occurrence data and covariates for the Hunter Region (~40,000 1km grid cells)__


- __Bootstrapped the SDMs to characterised the uncertainty (resampling with replacement)__


- __Build conservation plans protecting top 20% of landscape using uncertain SDMs__


- __Calculate EVWOI, EVWPI and EVPI__

]

???



---
background-image: url(http://2.bp.blogspot.com/-5OojQkKBsJs/TfIKkBNVnVI/AAAAAAAABQQ/4YC8Fj2TCPU/s1600/Regent%2Bhoneyeater%2BXanthomyza%2Bphrygia.jpg), url(https://www.uq.edu.au/news/filething/get/125532/Hidden%20Vale%20-%20spotted%20tail%20quoll.jpg), url(http://media.bowerbird.org.au/181/181183-Full800.jpg), url(https://c1.staticflickr.com/1/727/22443858838_21efba93cf_b.jpg), url(http://www.environment.nsw.gov.au/images/animals/sugarGliderLg.jpg), url(https://upload.wikimedia.org/wikipedia/commons/thumb/4/4f/Melaleuca_groveana_leaves%2C_flowers_and_fruit.jpg/1200px-Melaleuca_groveana_leaves%2C_flowers_and_fruit.jpg)
background-size: 305px 350px
background-repeat: no-repeat
background-position: 0px 0px, 305px 0px, 610px 0px, 0px 350px, 305px 350px, 610px 350px


???



---
background-image: url(voi-seminar_files/figure-html/HunterSpeciesModels.svg)

???



---
background-image: url(voi-seminar_files/figure-html/HunterPlan1.svg)

???



---
count: false
background-image: url(voi-seminar_files/figure-html/HunterPlan2.svg)

???



---
# Results

--
### EVWOI

Expected performance of plan to protect the most valuable 20% of the Hunter given uncertainty:

.red.font150[34.8%] average proportion of species carrying capacity remaining

--
### EVWPI 

Expected performance of plan given complete certainty about species distributions:

.blue.font150[35.2%]


???



---
# Results

.font150[EVPI = .purple[0.4%] (or .purple[1%] relative increase)]


--
.font130[For species with orginal population of 10,000 expect to protect .purple[40] more with reserve network would otherwise]


--

</br>

|                      | EVWOI | EVWPI | EVPI | 
|:---------------------|:-----:|:-----:|:----:|
| Bynoe's Wattle       | 72.9  | 72.1  | -0.9 |
| _Melaleuca groveana_ | 27.8  | 28.1  | 0.2  |
| Spotted-tailed Quoll | 20.6  | 21.0  | 0.4  |
| Powerfull Owl        | 22.0  | 22.6  | 0.6  |
| Squirrel Glider      | 29.6  | 30.2  | 0.6  |
| Regent Honeyeater    | 35.9  | 37.3  | 0.9  |
</br>


???



---
background-image: url(voi-seminar_files/figure-html/HunterPlanBoot.svg)

???



---
background-image: url(voi-seminar_files/figure-html/HunterPlanZones1.svg)

???



---
count: false
background-image: url(voi-seminar_files/figure-html/HunterPlanZones2.svg)

???



---
count: false
background-image: url(voi-seminar_files/figure-html/HunterPlanZones3.svg)

???



---
</br>
- .font130[Possible to do a formal VOI for a conservation plan]


--
- .font130[In Hunter region there is value of information at least for this example]


--
- .font130[Can divide landscape up into different regions: never consider, warrant learning, and definitely include]


--
- .font130[Ice cream!!]

.center[![ice-cream](https://media.giphy.com/media/TyjjBG7GNdFxS/giphy.gif)]

???



---
class: inverse, center, middle

# Part 4: Value of Information and risk
## A counter-intuitive example 


???



---
# Back to this example 

- .font110[Manager responsible for endangered species]


- .font110[Currently 10 breeding pairs, but declining]


- .font110[Must choose whether or not to restore habitat]


- .font110[Payoff matrix:]

</br>
.font110[

| Action     | Failure | Success |
|:-----------|:-------:|:-------:|
| Do nothing |    8    |    8    |
| Restore    |    5    |    15   |
]

--
</br>
- .font110[Now suppose the probability of failure,] $\large{}p$, .font110[varies]

???


---
```{r evpi, fig.width = 6, fig.height = 4, dev = "svg", echo = FALSE, out.width = "1200px", dev.args = list(family = "Droid Serif")}
u = function(x) 3.5 + 2 * log(x)

evpi = function (p) {
  b  = matrix(c(8, 5, 8, 15), 2)
  leave   = b[1, 1] * p +  b[1, 2] * (1 - p)
  restore = b[2, 1] * p +  b[2, 2] * (1 - p)
  evwoi   = pmax(leave, restore)

  evwpi   = b[1, 1] * p + b[2, 2] * (1 - p)
  evwpi - evwoi
}

eupi = function(p) {
 sapply(p,
   function(p) {
     if (p <= (u(8) - u(15)) / (u(5) - u(15))) {
       f = function(x) {
           (p * u(8 - x) + (1 - p) * u(15 - x)) -
           (p * u(5) + (1 - p) * u(15))
       }
     } else {
       f = function(x) {
           (p * u(8 - x) + (1 - p) * u(15 - x)) -
           u(8)
       }
     }
     uniroot(f, c(0, 8))$root
   }
 )
}

par(mar = c(4, 4, 2, 2))
curve(evpi, 0, 1, las = 1, yaxs = "i", xaxs = "i", bty = "n", ylim = c(0, 2.5),
      xlab = expression(italic(p)), ylab = "EVPI", lwd = 3)
title("EVPI vs. probability of failure")
```
???



---
count: false
```{r evpi2, fig.width = 6, fig.height = 4, dev = "svg", echo = FALSE, out.width = "1200px", dev.args = list(family = "Droid Serif")}
u = function(x) 3.5 + 2 * log(x)

evpi = function (p) {
  b  = matrix(c(8, 5, 8, 15), 2)
  leave   = b[1, 1] * p +  b[1, 2] * (1 - p)
  restore = b[2, 1] * p +  b[2, 2] * (1 - p)
  evwoi   = pmax(leave, restore)

  evwpi   = b[1, 1] * p + b[2, 2] * (1 - p)
  evwpi - evwoi
}

eupi = function(p) {
 sapply(p,
   function(p) {
     if (p <= (u(8) - u(15)) / (u(5) - u(15))) {
       f = function(x) {
           (p * u(8 - x) + (1 - p) * u(15 - x)) -
           (p * u(5) + (1 - p) * u(15))
       }
     } else {
       f = function(x) {
           (p * u(8 - x) + (1 - p) * u(15 - x)) -
           u(8)
       }
     }
     uniroot(f, c(0, 8))$root
   }
 )
}

par(mar = c(4, 4, 2, 2))
curve(evpi, 0, 1, las = 1, yaxs = "i", xaxs = "i", bty = "n", ylim = c(0, 2.5),
      xlab = expression(italic(p)), ylab = "EVPI", lwd = 3)
segments(c(0, .5), c(1.5, 1.5), c(.5, .5), c(1.5, 0), lty = 2, lwd = 3)
title("EVPI = 1.5 when p = .5")
```
???



---
count: false
```{r evpi3, fig.width = 6, fig.height = 4, dev = "svg", echo = FALSE, out.width = "1200px", dev.args = list(family = "Droid Serif")}
u = function(x) 3.5 + 2 * log(x)

evpi = function (p) {
  b  = matrix(c(8, 5, 8, 15), 2)
  leave   = b[1, 1] * p +  b[1, 2] * (1 - p)
  restore = b[2, 1] * p +  b[2, 2] * (1 - p)
  evwoi   = pmax(leave, restore)

  evwpi   = b[1, 1] * p + b[2, 2] * (1 - p)
  evwpi - evwoi
}

eupi = function(p) {
 sapply(p,
   function(p) {
     if (p <= (u(8) - u(15)) / (u(5) - u(15))) {
       f = function(x) {
           (p * u(8 - x) + (1 - p) * u(15 - x)) -
           (p * u(5) + (1 - p) * u(15))
       }
     } else {
       f = function(x) {
           (p * u(8 - x) + (1 - p) * u(15 - x)) -
           u(8)
       }
     }
     uniroot(f, c(0, 8))$root
   }
 )
}

par(mar = c(4, 4, 2, 2))
curve(evpi, 0, 1, las = 1, yaxs = "i", xaxs = "i", bty = "n", ylim = c(0, 2.5),
      xlab = expression(italic(p)), ylab = "EVPI", lwd = 3)
segments(c(0, .7), c(2.1, 2.1), c(.7, .7), c(2.1, 0), lty = 2, lwd = c(1, 3))
title("EVPI is maximal when p = .7")
```
???



---
count: false
```{r evpi4, fig.width = 6, fig.height = 4, dev = "svg", echo = FALSE, out.width = "1200px", dev.args = list(family = "Droid Serif"), warning = FALSE}
u = function(x) 3.5 + 2 * log(x)

evpi = function (p) {
  b  = matrix(c(8, 5, 8, 15), 2)
  leave   = b[1, 1] * p +  b[1, 2] * (1 - p)
  restore = b[2, 1] * p +  b[2, 2] * (1 - p)
  evwoi   = pmax(leave, restore)

  evwpi   = b[1, 1] * p + b[2, 2] * (1 - p)
  evwpi - evwoi
}

eupi = function(p) {
 sapply(p,
   function(p) {
     if (p <= (u(8) - u(15)) / (u(5) - u(15))) {
       f = function(x) {
           (p * u(8 - x) + (1 - p) * u(15 - x)) -
           (p * u(5) + (1 - p) * u(15))
       }
     } else {
       f = function(x) {
           (p * u(8 - x) + (1 - p) * u(15 - x)) -
           u(8)
       }
     }
     uniroot(f, c(0, 8))$root
   }
 )
}

par(mar = c(4, 4, 2, 2))
curve(evpi, 0, 1, las = 1, yaxs = "i", xaxs = "i", bty = "n", ylim = c(0, 2.5),
      xlab = expression(italic(p)), ylab = "EVPI", lwd = 3)
segments(c(.7), c(2.1), c(.7), c(0), lty = 2, lwd = c(3))
text(.7, 2.2, "\u2190 Restore", pos = 2)
text(.7, 2.2, "Do Nothing \u2192", pos = 4, xpd = NA)
title("EVPI is maximal at point of indifference")
```

--
$\Large{} 5p + 15(1 - p) = 8p + 8(1 - p)$

EV(restore) = EV(do nothing)


???



---
# Risk tolerance

--
- Risk-neutral indifferent to uncertainty in payoff; only care about expected value


--
- Risk-averse sensitive to uncertainty in payoff; prefer the guarantee of small reward (or loss) over potential for large reward if might endure large loss


--
- e.g., risk averse prefer to do nothing and ensure 8 rather than risk only having 5 even if the expected value is 10


--
- Usually conservation decision makers are assumed to be risk-neutral. Not realistic?


--
- So how does this effect value of information?


--
- Since risk averse don't like uncertain outcomes, can assume risk-averse will value information more than risk neutral?  


???



---
```{r utility, fig.width = 6, fig.height = 4, dev = "svg", echo = FALSE, out.width = "1200px", dev.args = list(family = "Droid Serif")}
par(mar = c(4, 4, 2, 2))
u = function(x) 3.5 + 2 * log(x)
curve(I, 0, 15, las = 1,  las = 1, bty = "l", xlab = "",
      ylab = "", lwd = 3)
curve(u, lty = 3, lwd = 3, add = TRUE)
legend(0, 15, c("Risk neutral", "Risk averse"), lty = c(3, 1), bty = "n")
mtext("Value", 1, 3)
mtext("Utility", 2, 3)
title("Utility vs. Value")
```


---
```{r eupi, fig.width = 6, fig.height = 4, dev = "svg", echo = FALSE, out.width = "1200px", dev.args = list(family = "Droid Serif")}
u = function(x) 3.5 + 2 * log(x)

evpi = function (p) {
  b  = matrix(c(8, 5, 8, 15), 2)
  leave   = b[1, 1] * p +  b[1, 2] * (1 - p)
  restore = b[2, 1] * p +  b[2, 2] * (1 - p)
  evwoi   = pmax(leave, restore)

  evwpi   = b[1, 1] * p + b[2, 2] * (1 - p)
  evwpi - evwoi
}

eupi = function(p) {
 sapply(p,
   function(p) {
     if (p <= (u(8) - u(15)) / (u(5) - u(15))) {
       f = function(x) {
           (p * u(8 - x) + (1 - p) * u(15 - x)) -
           (p * u(5) + (1 - p) * u(15))
       }
     } else {
       f = function(x) {
           (p * u(8 - x) + (1 - p) * u(15 - x)) -
           u(8)
       }
     }
     uniroot(f, c(0, 8))$root
   }
 )
}

par(mar = c(4, 4, 2, 2))
curve(evpi, 0, 1, las = 1, yaxs = "i", xaxs = "i", bty = "n", ylim = c(0, 2.5),
      xlab = expression(italic(p)), ylab = "Expected utility of information", lwd = 3)
curve(eupi, 0.001, 1, lty = 3, lwd = 3, add = TRUE)
legend(0, 2.5, c("Risk neutral", "Risk averse"), lty = c(3, 1), bty = "n")
title("EUPI vs. probability of failure")
```
???



---
</br>
- .font130[Value of information greatest when we have no idea what to do (expected utility of options is equal)]


--
- .font130[Risk tolerance affects what the maximal value of information is]


--
- .font130[Risk aversity can make information more valuable]


--
- .font130[But in certain circumstances it can mean it is relatively less valuable]

???



---
# Thank you

.font130[Peter Vesk, Michael Runge and Hugh Possingham]


.font120[Heini Kujala, Paul Armsworth, Michael McCarthy, Alana Moore, José Lahoz-Monfort]

</br>
.center[![thank_you](https://m.popkey.co/eae3e9/L9KlL.gif)]

